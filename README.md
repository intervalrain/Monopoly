# Monopoly

> 遊戲設計 & DDD & Clean Architecture 練習

## 技術參考
+ 參考資訊：
    + [GAAS](https://github.com/Game-as-a-Service/)

+ 使用軟體方法論：
    + Event Storming
    + Example Mapping
    + OOAD
    + ATDD
    + DDD
    + Clean Architecture

+ 使用技術：
    + C#/.Net
    + MongoDB
    + Blazor
    + SingnalR

### 遊戲規則
+ 2 - 4 人

+ 道具
    + 地圖
    + 骰子
    + 房子
    + 地契
    + 貨幣

+ 初始配置
    + 每個玩家擲骰子決定先後次序，點數大的玩家先行，之後再以順時針方向進行。
    + 在遊戲開始前，每個玩家都會獲得初始金額。

+ 玩家依序擲骰、移動到目標格(以下以**已移動到目標格**為前提進行說明)
+ 玩家在自己的回合內：
    + **購買土地**：若是到達該土地或車站沒有地主，可選擇購買。
    + **支付過路費**：若到達他人土地，則必須支付過路費[^1]。
    + **蓋房子**：若到達自己的土地，可以選擇蓋房子，一次只能蓋一棟，一塊土地上最多擁有5棟房子。
    + **停車場**：若到達停車場，該輪無法向其他玩家收取過路費。
    + **監獄**：若玩家到達監獄，則下一輪略過該玩家，在離開監獄之前，無法向其他玩家收取過路費。
    + **拍賣**：玩家可以自行選擇拍賣自己擁有的房地產[^2]。
    + **抵押**：玩家可以自行選擇抵押自己擁有的房地產，若限定回合內無法贖回，則失去該房地產的擁有權。
    + **破產**：若無法支付過路費，必須透過拍賣或抵押籌措，如果全數抵押或拍賣仍無法支付，則該玩家宣告**破產**。

+ 玩家在經過起點時可以獲得獎勵金！但到好踩在上面的話沒有。
+ 遊戲結束：
    1. 除一人以外所有玩家皆破產，該玩家獲勝。
    2. 遊戲時間結束，總資產最多的玩家獲勝。

### 計算
+ 過路費 = 土地空地價 * 房子數量 * 同地段數量 * 是否坐牢/停車場休息(0/1)

+ 房子數量

| 數量 | 係數 |
| ---- | ---- |
| 0    | 0.05 |
| 1    | 0.4  |
| 2    | 1    |
| 3    | 3    |
| 4    | 6    |
| 5    | 10   |

+ 同地段數量

| 數量 | 係數 |
| ---- | ---- |
| 0    | 1    |
| 1    | 1.3  |
| 2    | 2    |
| 3    | 4    |
| 4    | 8    |
| 5    | 16   |

+ 抵押
    * 房地產價值的 70%

+ 拍賣
    * 初始金額 = 房地產價值的 50%
    * 流標時係統回收價 = 房地產價值的 70%

[^1]: **過路費**：每塊土地的過路費金額會受：土地購買費、該土地房子數量、該玩家擁有多少相同地段土地等因素影響，而車站的過路費金額僅受該玩家擁有多少車站影響。
[^2]: **房地產**：土地和房子的總稱。


